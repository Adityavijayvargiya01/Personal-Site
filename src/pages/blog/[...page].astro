---
import PageHead from '@/components/PageHead.astro'
import Layout from '@/layouts/Layout.astro'
import { Motion } from '@/components/motion'
import { SITE } from '@/consts'
import { getAllPosts } from '@/lib/data-utils'
import type { PaginateFunction } from 'astro'

export async function getStaticPaths({
  paginate,
}: {
  paginate: PaginateFunction
}) {
  const allPosts = await getAllPosts()
  return paginate(allPosts, { pageSize: SITE.postsPerPage })
}


---

<Layout>
  <PageHead slot="head" title="Blog" />
  <meta slot="head" http-equiv="refresh" content="0; url=/#posts" />

  <section class="min-h-[40vh] flex items-center justify-center text-center">
    <Motion client:load>
      <h1 class="text-2xl font-medium mb-2">Blog has moved</h1>
      <p class="text-muted-foreground">
        The blog listing now lives on the home page.
        <a href="/#posts" class="underline ml-1">Go to all posts</a>.
      </p>
    </Motion>
  </section>
</Layout>
